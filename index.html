<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>URL Extractor</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        #output { margin-top: 20px; }
        .error { color: red; }
    </style>
</head>
<body>
    <h1>URL Extractor</h1>
    <form id="urlForm">
        <label for="urlInput">Enter Amazon URL:</label><br>
        <input type="text" id="urlInput" name="urlInput" required>
        <button type="submit">Extract</button>
        <p id="errorMsg" class="error"></p>
    </form>
    <div id="output"></div>

    <script>
        document.getElementById('urlForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const urlInput = document.getElementById('urlInput').value.trim();
            const errorMsg = document.getElementById('errorMsg');
            const output = document.getElementById('output');

            // Clear previous messages
            errorMsg.textContent = '';
            output.textContent = '';

            // Validate the input
            if (!urlInput) {
                errorMsg.textContent = 'Please enter a URL.';
                return;
            }

            let urlSplit = urlInput.split("?");
            let urlParts = urlSplit[0].split("/");
            urlParts.forEach((element, index) => {
               if (element.tolowerCase() == "dp" || element.toLowerCase() == "gp") {
                  output.textContent = `Extracted part: ${element[index+1]}`; 
               }
            });

            // const pattern = /https:\/\/www\.amazon\.com\/([gd]p\/[A-z0-9]{10})/;
            // const match = urlInput.match(pattern);

            // if (match) {
            //     const extractedPart = match[1];
            //     output.textContent = `Extracted part: ${extractedPart}`;
            // } else {
            //     errorMsg.textContent = 'The URL is not well-formed or does not match the expected pattern.';
            // }
        });
    </script>
</body>
</html>